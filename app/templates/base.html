<!DOCTYPE html>
<html lang="en" x-data="{ mobileOpen: false, lastScroll: 0, showHeader: true }"
      x-init="window.addEventListener('scroll', () => {
        const current = window.pageYOffset;
        showHeader = current < lastScroll || current < 50;
        lastScroll = current;
      });">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Bee East Africa Symposium{% endblock %}</title>

  <link rel="stylesheet" href="{{ url_for('static', filename='src/output.css') }}" />
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  <link rel="icon" href="{{ url_for('static', filename='images/logo.png') }}" />

  <style>
    /* Theme colors */
    :root {
      --primary: #F5C342;   /* Golden Yellow */
      --secondary: #5C3A21; /* Deep Honey Brown */
    }
    .text-primary { color: var(--primary); }
    .bg-primary { background-color: var(--primary); }
    .text-secondary { color: var(--secondary); }
    .bg-secondary { background-color: var(--secondary); }
    .nav-link.active {
      color: var(--primary);
      font-weight: 600;
    }
    .header-hidden {
      transform: translateY(-100%);
      transition: transform 0.4s ease-in-out;
    }
    .header-visible {
      transform: translateY(0);
      transition: transform 0.4s ease-in-out;
    }
  </style>
</head>

<body class="bg-white text-gray-800 flex flex-col min-h-screen">

  <!-- HEADER -->
  <header 
    x-bind:class="showHeader ? 'fixed top-0 w-full bg-white shadow header-visible' : 'header-hidden fixed top-0 w-full bg-white shadow'"
    class="z-50 transition-all duration-300">
    <nav class="mx-auto flex max-w-7xl items-center justify-between p-4 lg:px-8">
      <a href="{{ url_for('main.index') }}" class="flex items-center gap-2">
        <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Bee East Africa" class="h-8 w-auto" />
        <span class="font-bold text-secondary text-lg">Bee East Africa</span>
      </a>

      <!-- Mobile button -->
      <div class="flex lg:hidden">
        <button @click="mobileOpen = !mobileOpen" class="p-2 rounded-md text-gray-700 focus:outline-none">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                  d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>

      <!-- Desktop Links -->
      <div class="hidden lg:flex lg:gap-x-8">
        <a href="{{ url_for('main.index') }}" class="nav-link text-sm font-semibold text-gray-900 hover:text-primary {% if request.endpoint=='main.index' %}active{% endif %}">Home</a>
        <a href="{{ url_for('main.about') }}" class="nav-link text-sm font-semibold text-gray-900 hover:text-primary {% if request.endpoint=='main.about' %}active{% endif %}">About</a>
        <a href="{{ url_for('main.speakers') }}" class="nav-link text-sm font-semibold text-gray-900 hover:text-primary {% if request.endpoint=='main.speakers' %}active{% endif %}">Speakers</a>
        <a href="{{ url_for('main.agenda') }}" class="nav-link text-sm font-semibold text-gray-900 hover:text-primary {% if request.endpoint=='main.agenda' %}active{% endif %}">Agenda</a>
        <a href="{{ url_for('main.contact') }}" class="nav-link text-sm font-semibold text-gray-900 hover:text-primary {% if request.endpoint=='main.contact' %}active{% endif %}">Contact</a>
        <a href="{{ url_for('register.register_attendee') }}" class="px-4 py-2 rounded-md bg-primary text-white font-semibold hover:opacity-90">Register</a>
      </div>
    </nav>

    <!-- Mobile Menu -->
    <div x-show="mobileOpen" x-transition class="lg:hidden bg-white border-t border-gray-200">
      <div class="px-4 py-3 space-y-2">
        <a href="{{ url_for('main.index') }}" class="block text-gray-800 font-semibold {% if request.endpoint=='main.index' %}text-primary{% endif %}">Home</a>
        <a href="{{ url_for('main.about') }}" class="block text-gray-800 font-semibold {% if request.endpoint=='main.about' %}text-primary{% endif %}">About</a>
        <a href="{{ url_for('main.speakers') }}" class="block text-gray-800 font-semibold {% if request.endpoint=='main.speakers' %}text-primary{% endif %}">Speakers</a>
        <a href="{{ url_for('main.agenda') }}" class="block text-gray-800 font-semibold {% if request.endpoint=='main.agenda' %}text-primary{% endif %}">Agenda</a>
        <a href="{{ url_for('main.contact') }}" class="block text-gray-800 font-semibold {% if request.endpoint=='main.contact' %}text-primary{% endif %}">Contact</a>
        <a href="{{ url_for('register.register_attendee') }}" class="block mt-3 px-4 py-2 rounded-md bg-primary text-white font-semibold text-center">Register</a>
      </div>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main class="flex-grow mt-20">
    {% block content %}
    <!-- Page content goes here -->
    {% endblock %}
  </main>

  <!-- FOOTER -->
  <footer class="bg-white border-t mt-16">
    <div class="mx-auto max-w-7xl px-6 py-10">
      <nav class="flex flex-wrap justify-center gap-6 text-sm">
        <a href="{{ url_for('main.about') }}" class="text-gray-600 hover:text-secondary">About</a>
        <a href="{{ url_for('main.news') }}" class="text-gray-600 hover:text-secondary">News</a>
        <a href="{{ url_for('main.contact') }}" class="text-gray-600 hover:text-secondary">Contact</a>
        <a href="#" class="text-gray-600 hover:text-secondary">Partners</a>
      </nav>
      <div class="mt-8 flex justify-center gap-x-6">
        <a href="#" class="text-gray-600 hover:text-secondary">
          <span class="sr-only">Facebook</span>
          <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M22 12..."/></svg>
        </a>
        <a href="#" class="text-gray-600 hover:text-secondary">
          <span class="sr-only">Instagram</span>
          <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12.315 2..."/></svg>
        </a>
      </div>
      <p class="mt-6 text-center text-sm text-gray-500">&copy; 2025 Bee East Africa Symposium. All rights reserved.</p>
    </div>
  </footer>

</body>
</html>
